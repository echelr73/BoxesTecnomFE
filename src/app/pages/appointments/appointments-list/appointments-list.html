<mat-toolbar color="primary">
    <span>Appointments</span>
    <button mat-raised-button color="primary" (click)="openCreateDialog()">
        New shift
    </button>
</mat-toolbar>

<div class="container">
    <mat-card *ngFor="let appointment of appointments" class="mb-2">

        <mat-card-header>

            <mat-card-title>
                {{ appointment.appointment_at | date:'short' }}

            </mat-card-title>

            <mat-card-subtitle>
                <p><strong>Service type:</strong> {{ appointment.service_type }}</p>
            </mat-card-subtitle>

        </mat-card-header>

        <mat-card-content>
            <p><strong>Workshop:</strong> {{ getWorkshop(appointment.place_id)?.name }} - {{ getWorkshop(appointment.place_id)?.formatted_address }}
                <mat-icon matTooltip="{{ getWorkshopTooltip(appointment.place_id) }}"
                    [matTooltipClass]="'tooltip'">info</mat-icon>
            </p>


            <p><strong>Contact:</strong> {{ appointment.contact.name }} â€” {{ appointment.contact.email }}<span
                    *ngIf="appointment.contact.phone"> - {{appointment.contact.phone}}</span></p>

            <p *ngIf="appointment?.vehicle?.make || appointment?.vehicle?.model || appointment?.vehicle?.license_Plate">
                <strong>Vehicle:</strong>
                {{ appointment.vehicle?.make }} {{ appointment.vehicle?.model }} - {{appointment.vehicle?.year}} ({{
                appointment.vehicle?.license_Plate }})
            </p>

        </mat-card-content>
    </mat-card>
    <mat-card>
        <mat-card-content *ngIf="appointments.length === 0">
            No appointments found.
        </mat-card-content>
    </mat-card>
</div>